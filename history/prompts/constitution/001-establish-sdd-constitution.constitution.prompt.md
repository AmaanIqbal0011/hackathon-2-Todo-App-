---
id: 1
title: Establish SDD Constitution for Hackathon
stage: constitution
date: 2025-12-30
surface: agent
model: claude-sonnet-4-5-20250929
feature: none
branch: master
user: dell
command: /sp.constitution
labels: [constitution, project-init, sdd]
links:
  spec: null
  ticket: null
  adr: null
  pr: null
files:
  - .specify/memory/constitution.md
  - .specify/templates/plan-template.md
  - .specify/templates/spec-template.md
  - .specify/templates/tasks-template.md
tests:
  - None
---

## Prompt

 ## 1. Purpose (WHY)

This project exists to demonstrate **Spec-Driven Development (SDD)** for building an
AI-native, cloud-native application that evolves from a simple Todo console app into a
distributed, event-driven AI chatbot system deployed on Kubernetes.

The goal is to prove that **clear specifications, not manual coding**, are the primary driver
of high-quality software when working with AI agents.

This project is evaluated as part of **Hackathon II (Panaversity / GIAIC)** and must strictly
follow the official requirements and workflows.

---

## 2. Core Principles (NON-NEGOTIABLE)

### 2.1 Spec-First, Always
- No code may be written before a complete and approved spec exists.
- All development must follow the SpecKitPlus lifecycle:

> **Specify ‚Üí Plan ‚Üí Tasks ‚Üí Implement**

- If a requirement is unclear, the agent must STOP and request a spec update.

---

### 2.2 No Manual Coding
- Human-written application code is **strictly forbidden**.
- All source code must be generated by **Claude Code** (or other AI agents) based on specs.
- Humans may:
  - Write and refine specifications
  - Review outputs
  - Iterate on specs when results are incorrect

---

### 2.3 Specs Are the Single Source of Truth
- If code and spec conflict, **the spec wins**.
- The hierarchy of authority is:

> **Constitution ‚Üí Specify ‚Üí Plan ‚Üí Tasks ‚Üí Code**

- Agents must never ‚Äúinfer‚Äù requirements that are not explicitly specified.

---

## 3. Required Technology Stack (FIXED)

Agents MUST NOT change or substitute the following core technologies without an explicit
constitutional update:

### Phase I
- Python 3.13+
- In-memory data storage
- Console-based interface

### Phase II
- Frontend: Next.js (App Router)
- Backend: FastAPI (Python)
- ORM: SQLModel
- Database: Neon Serverless PostgreSQL
- Authentication: Better Auth (JWT-based)

### Phase III
- OpenAI ChatKit (Frontend UI)
- OpenAI Agents SDK (Agent logic)
- Official MCP SDK (Tool exposure)
- Stateless chat architecture
- Database-persisted conversation state

### Phase IV
- Docker (containerization)
- Kubernetes (Minikube)
- Helm Charts
- kubectl-ai and/or kagent for AI-assisted DevOps

### Phase V
- Kafka (event-driven architecture)
- Dapr (Pub/Sub, State, Jobs, Secrets, Invocation)
- Cloud Kubernetes (AKS, GKE, DOKS, or Oracle OKE)
- CI/CD via GitHub Actions

---

## 4. Architectural Principles

### 4.1 Stateless Services
- Backend services must remain stateless.
- All persistent state must be stored in:
  - PostgreSQL (Neon)
  - or Dapr State Store (Phase V)

---

### 4.2 Tool-Based AI Interaction
- AI agents must not directly manipulate the database.
- All Todo operations must be exposed as **MCP tools**.
- The agent can only act via approved tools.

---

### 4.3 Event-Driven by Default (Phase V)
- Task lifecycle events must be published to Kafka.
- Downstream services (reminders, recurring tasks, audit logs) must consume events.
- No tight coupling between services.

---

## 5. Quality & Engineering Standards

### 5.1 Deterministic Behavior
- Same input + same state = same output.
- Avoid hidden state, randomness, or implicit side effects.

---

### 5.2 Clear Ownership & Isolation
- Users must only access their own tasks.
- JWT-based authentication is mandatory for all APIs after Phase II.
- Task ownership is enforced at every layer.

---

### 5.3 Error Handling
- Errors must be explicit, human-readable, and recoverable.
- AI responses must gracefully explain failures (e.g., ‚ÄúTask not found‚Äù).

---

## 6. AI Agent Rules (CRITICAL)

Agents operating in this project MUST:

1. Never write code without a referenced Task ID
2. Never modify architecture without updating `sp.plan`
3. Never add features without updating `sp.specify`
4. Never violate the defined technology stack
5. Always reference spec sections when implementing

---

## 7. Repository & Documentation Rules

- The repository MUST contain:
  - `sp.constitution`
  - `sp.specify`
  - `sp.plan`
  - `sp.tasks`
  - `/specs` directory (feature, API, DB, UI specs)
  - `CLAUDE.md` (agent entry point)
  - `README.md` (human-readable guide)

- All phases must be clearly separated and traceable via specs.

---

## 8. Hackathon Compliance

- All five phases must be completed **in order**.
- Partial submissions are allowed but scored proportionally.
- Bonus features (Urdu support, voice input, reusable intelligence) must be:
  - Fully specified
  - Architecturally justified
  - Implemented via agent skills

---

## 9. Change Management

- Any change to:
  - Architecture
  - Stack
  - Security model
  - Development rules

Requires an explicit update to **this constitution**.

Agents must halt execution if constitutional violations are detected.

---

## 10. Final Declaration

This project treats **specifications as executable intelligence**.
AI agents are builders, not decision-makers.
Humans are architects, not typists.

**This constitution is binding for all agents and contributors.**

## Response snapshot

Project constitution established at `.specify/memory/constitution.md` with version 1.0.0. Principles include Spec-First, No Manual Coding, Stateless Services, and Tool-Based Interaction. Dependent templates (plan, spec, tasks) synced with new gating requirements.

## Outcome

- ‚úÖ Impact: High - Established project governance and SDD rules.
- üß™ Tests: N/A - Documentation and template verification.
- üìÅ Files: constitution.md, plan-template.md, spec-template.md, tasks-template.md.
- üîÅ Next prompts: /sp.specify for initial features.
- üß† Reflection: Successfully translated hackathon requirements into a formal, binding AI constitution.

## Evaluation notes (flywheel)

- Failure modes observed: None
- Graders run and results (PASS/FAIL): PASS
- Prompt variant (if applicable): null
- Next experiment (smallest change to try): none
